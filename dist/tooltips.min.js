!function(){"use strict";function a(c){return this.each(function(){var d=$(this),e=$.extend({},a.defaults,d.data(),"object"==typeof c&&c),f=d.data("lt.tooltip");f||(f=new b(this,e),d.data("lt.tooltip",f)),"string"==typeof c?f[c]():f.init()})}var b=function(a,b){this.$trigger=$(a),this.options=b||{},this.id=this.generateId(),this.visible=!1};b.prototype.init=function(){this.$trigger.on("mouseenter focusin",$.proxy(this.show,this)),this.$trigger.on("mouseleave focusout",$.proxy(this.hide,this))},b.prototype.generateId=function(){return"tooltip"+Math.floor(1e3*Math.random()+1)+Date.now().toString().slice(7)},b.prototype.show=function(){if(!this.visible){var a=$($.parseHTML(this.options.template));a.attr("id",this.id).addClass("tooltip-"+this.options.placement).addClass(this.options.state?"tooltip-"+this.options.state:null);var b=$.Event("show.lt.tooltip",{relatedTarget:a});if(this.$trigger.trigger(b),!b.isDefaultPrevented()){a.appendTo(document.body).offset(this.getOffset(a)),this.visible=!0,this.getTitle(a).then(function(b){"object"==typeof b?this.options=$.extend(this.options,b):this.options.title=b.toString(),this.options.html?a.find(".tooltip-content").html(this.options.title):a.find(".tooltip-content").text(this.options.title),a.addClass(this.options.state?"tooltip-"+this.options.state:null).addClass("tooltip-"+this.options.placement).offset(this.getOffset(a)),this.options.callback.call(this,a,this.$trigger)}.bind(this),function(b){a.find(".tooltip-content").text(b&&b.message?b.message:"Error"),a.addClass("tooltip-error").offset(this.getOffset(a)),this.options.callback.call(this,a,this.$trigger)}.bind(this)),this.$trigger.attr("aria-labelledby",this.id);var c=$.Event("shown.lt.tooltip",{relatedTarget:a});this.$trigger.trigger(c)}}},b.prototype.getTitle=function(a){var b=$.Deferred();return"string"==typeof this.options.title?b.resolve(this.options.title):"function"==typeof this.options.title?$.when(this.options.title.call(this,a,this.$trigger)).then(function(a){b.resolve(a)},function(a){b.reject(a)}):"object"==typeof this.options.title?$.when(this.options.title).then(function(a){b.resolve(a)},function(a){b.reject(a)}):b.resolve(this.$trigger.attr("title")),b},b.prototype.getOffset=function(a){var b=this.$trigger.offset(),c=this.options.placement,d=b.top,e=b.left,f=this.$trigger.outerHeight(),g=this.$trigger.outerWidth(),h=a.outerHeight(),i=a.outerWidth(),j={top:d,left:e};return("top"===c||"bottom"===c)&&(j.left=e+Math.floor(g/2)-Math.floor(i/2)),("right"===c||"left"===c)&&(j.top=d+Math.floor(f/2)-Math.floor(h/2)),"top"===c?j.top=d-h:"right"===c?j.left=e+g:"bottom"===c?j.top=d+f:"left"===c&&(j.left=e-i),j},b.prototype.hide=function(){if(this.visible){var a=$("#"+this.id),b=$.Event("hide.lt.tooltip",{relatedTarget:a});if(this.$trigger.trigger(b),!b.isDefaultPrevented()){this.visible=!1,a.remove(),this.$trigger.attr("aria-labelledby",null);var c=$.Event("hidden.lt.tooltip",{relatedTarget:a});this.$trigger.trigger(c)}}},a.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-content">Loading...</div></div>',placement:"top",html:!1,callback:function(){}},$.fn.tooltip=a}(jQuery);
//# sourceMappingURL=tooltips.min.js.map